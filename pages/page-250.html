<section class="page-section" id="page-250">
    <div class="page-header">
        <div class="page-number">250</div>
        <div class="page-title">
            <h3>7.1.2 Analiza LÂ¹ - Solutia Sparse</h3>
            <span>Efectul LÂ¹ asupra Parametrilor</span>
        </div>
    </div>
    <div class="image-container">
        <img src="../book_page_jpg/page-250.jpg"
             alt="Pagina 250" class="page-image" onclick="zoomImage(this)">
    </div>
    <div class="explanation-content">

        <div class="interactive-paragraph">
            <div class="paragraph-main" onclick="toggleParagraph(this)">
                <h4>Gradientul LÂ¹ si Subgradientul</h4>
                <p>Gradientul (sau subgradientul, deoarece |w| nu e diferentiabil in 0) este:</p>
                <div class="formula" style="margin: 15px 0; padding: 15px; background: var(--bg-dark); border-radius: 8px; text-align: center;">
                    âˆ‡<sub>w</sub>JÌƒ(w; X, y) = Î±Â·sign(w) + âˆ‡<sub>w</sub>J(X, y; w)
                </div>
                <p>Observatia critica: contributia regularizarii la gradient <strong>nu mai scaleaza liniar</strong> cu wáµ¢ - este doar sign(wáµ¢), adica Â±1 sau 0. Aceasta diferenta fundamentala face LÂ¹ sa produca solutii sparse.</p>
            </div>
            <div class="expandable-sections">
                <div class="section-tab">
                    <div class="section-header" onclick="toggleSection(this)">
                        <div class="section-icon simulation">ðŸŽ®</div>
                        <span>Analiza cu Hessian Diagonal</span>
                        <span class="arrow">â–¶</span>
                    </div>
                    <div class="section-content">
                        <div class="section-body">
                            <p>Presupunem Hessianul H diagonal (features decorelate, ex: dupa PCA). Aproximarea patratica a obiectivului LÂ¹ regularizat se descompune in sume independente:</p>
                            <div class="formula" style="margin: 15px 0; padding: 15px; background: var(--bg-dark); border-radius: 8px;">
                                Ä´(w; X, y) = J(w*) + Î£áµ¢ [Â½Háµ¢áµ¢(wáµ¢ - wáµ¢*)Â² + Î±|wáµ¢|]
                            </div>
                            <p style="margin-top: 10px;">Solutia analitica pentru fiecare dimensiune:</p>
                            <div class="formula" style="margin: 15px 0; padding: 15px; background: var(--bg-dark); border-radius: 8px;">
                                wáµ¢ = sign(wáµ¢*) Â· max{|wáµ¢*| - Î±/Háµ¢áµ¢, 0}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="interactive-paragraph">
            <div class="paragraph-main" onclick="toggleParagraph(this)">
                <h4>Soft Thresholding - Operatorul de Sparsificare</h4>
                <p>Formula wáµ¢ = sign(wáµ¢*) Â· max{|wáµ¢*| - Î±/Háµ¢áµ¢, 0} se numeste "soft thresholding". Are doua cazuri distincte:</p>
            </div>
            <div class="expandable-sections">
                <div class="section-tab">
                    <div class="section-header" onclick="toggleSection(this)">
                        <div class="section-icon animation">âœ¨</div>
                        <span>Cele doua cazuri</span>
                        <span class="arrow">â–¶</span>
                    </div>
                    <div class="section-content">
                        <div class="section-body">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                                <div style="background: linear-gradient(90deg, rgba(245, 158, 11, 0.25) 0%, var(--bg-lighter) 20%); padding: 15px; border-radius: 8px; box-shadow: 0 0 15px rgba(245, 158, 11, 0.1);">
                                    <strong style="color: var(--warning);">Cazul 1: |wáµ¢*| â‰¤ Î±/Háµ¢áµ¢</strong>
                                    <div class="formula" style="margin: 10px 0;">wáµ¢ = 0</div>
                                    <p style="font-size: 0.85rem; color: var(--text-secondary);">Regularizarea "castiga" - parametrul devine exact zero!</p>
                                </div>
                                <div style="background: linear-gradient(90deg, rgba(16, 185, 129, 0.25) 0%, var(--bg-lighter) 20%); padding: 15px; border-radius: 8px; box-shadow: 0 0 15px rgba(16, 185, 129, 0.1);">
                                    <strong style="color: var(--success);">Cazul 2: |wáµ¢*| > Î±/Háµ¢áµ¢</strong>
                                    <div class="formula" style="margin: 10px 0;">wáµ¢ = wáµ¢* - Î±/Háµ¢áµ¢Â·sign(wáµ¢*)</div>
                                    <p style="font-size: 0.85rem; color: var(--text-secondary);">Se deplaseaza spre zero cu Î±/Háµ¢áµ¢ dar ramane nenul</p>
                                </div>
                            </div>
                            <div class="code-block" style="margin-top: 15px;">
# Soft thresholding in NumPy
def soft_threshold(w_star, alpha, H_diag):
    threshold = alpha / H_diag
    return np.sign(w_star) * np.maximum(np.abs(w_star) - threshold, 0)

# Exemplu
w_star = np.array([0.5, 0.1, -0.3, 2.0])
H_diag = np.array([1, 1, 1, 1])
alpha = 0.2
# Rezultat: [0.3, 0, -0.1, 1.8] - al doilea devine 0!
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</section>
