<section class="page-section" id="page-475">
    <div class="page-header">
        <div class="page-number">475</div>
        <div class="page-title">
            <h3>Capitolul 12: Aplicatii</h3>
            <span>12.3 Speech Recognition - CNN si End-to-End ASR</span>
        </div>
    </div>
    <div class="image-container">
        <img src="book_page_jpg/page-475.jpg"
             alt="Pagina 475" class="page-image" onclick="zoomImage(this)">
    </div>
    <div class="explanation-content">

        <div class="interactive-paragraph">
            <div class="paragraph-main" onclick="toggleParagraph(this)">
                <h4>Convolutional Networks pentru Speech</h4>
                <p>Una dintre inovatii a fost folosirea <strong>retelelor convolutionale</strong> care replica weights atat peste timp cat si frecventa. Noile modele 2D convolutionale considera spectrograma de input nu ca un vector lung, ci ca o <strong>imagine</strong> - cu o axa pentru timp si alta pentru frecventa componentelor spectrale.</p>
            </div>
            <div class="expandable-sections">
                <div class="section-tab">
                    <div class="section-header" onclick="toggleSection(this)">
                        <div class="section-icon animation">âœ¨</div>
                        <span>Vizualizare: Spectrograma ca Imagine</span>
                        <span class="arrow">â–¶</span>
                    </div>
                    <div class="section-content">
                        <div class="section-body">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                                <div style="background: var(--bg-lighter); padding: 15px; border-radius: 8px;">
                                    <strong style="color: var(--warning);">Traditional (1D)</strong>
                                    <div style="margin-top: 10px; height: 60px; background: linear-gradient(to right, var(--accent), var(--warning), var(--success)); border-radius: 4px;"></div>
                                    <p style="color: var(--text-secondary); font-size: 0.8rem; margin-top: 5px;">Time-delay NN: replica weights doar peste timp</p>
                                </div>
                                <div style="background: var(--bg-lighter); padding: 15px; border-radius: 8px;">
                                    <strong style="color: var(--success);">2D Convolutional</strong>
                                    <div style="margin-top: 10px; display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(3, 1fr); gap: 2px; height: 60px;">
                                        <div style="background: var(--accent);"></div>
                                        <div style="background: var(--warning);"></div>
                                        <div style="background: var(--success);"></div>
                                        <div style="background: var(--accent);"></div>
                                        <div style="background: var(--success);"></div>
                                        <div style="background: var(--accent);"></div>
                                        <div style="background: var(--warning);"></div>
                                        <div style="background: var(--success);"></div>
                                        <div style="background: var(--warning);"></div>
                                        <div style="background: var(--success);"></div>
                                        <div style="background: var(--accent);"></div>
                                        <div style="background: var(--warning);"></div>
                                    </div>
                                    <p style="color: var(--text-secondary); font-size: 0.8rem; margin-top: 5px;">Replica weights peste timp SI frecventa</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="section-tab">
                    <div class="section-header" onclick="toggleSection(this)">
                        <div class="section-icon reference">ðŸ“š</div>
                        <span>Referinte: CNN pentru Speech</span>
                        <span class="arrow">â–¶</span>
                    </div>
                    <div class="section-content">
                        <div class="section-body">
                            <ul class="reference-list">
                                <li class="reference-item"><span>ðŸ“„</span><div><strong>Sainath et al. (2013)</strong> - 2D CNN pentru speech, imbunatatire fata de time-delay NN</div></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="interactive-paragraph">
            <div class="paragraph-main" onclick="toggleParagraph(this)">
                <h4>End-to-End Deep Learning ASR</h4>
                <p>O directie importanta, inca in curs, este dezvoltarea sistemelor end-to-end care <strong>elimina complet HMM-ul</strong>. Primul mare breakthrough a venit de la <strong>Graves et al. (2013)</strong> care au antrenat un deep LSTM RNN folosind CTC (Connectionist Temporal Classification).</p>
            </div>
            <div class="expandable-sections">
                <div class="section-tab">
                    <div class="section-header" onclick="toggleSection(this)">
                        <div class="section-icon simulation">ðŸŽ®</div>
                        <span>Simulare: Deep LSTM pentru ASR</span>
                        <span class="arrow">â–¶</span>
                    </div>
                    <div class="section-content">
                        <div class="section-body">
                            <div class="code-block">
# Deep LSTM pentru ASR (Graves et al., 2013)
import torch
import torch.nn as nn

class DeepLSTM_ASR(nn.Module):
    def __init__(self, input_dim, hidden_dim, n_layers, n_phonemes):
        super().__init__()
        # Stacked LSTM - depth in doua directii:
        # 1. Depth peste layers (n_layers)
        # 2. Depth din time unfolding (secventa)
        self.lstm = nn.LSTM(
            input_dim, hidden_dim,
            num_layers=n_layers,
            bidirectional=True,
            dropout=0.2
        )
        self.fc = nn.Linear(hidden_dim * 2, n_phonemes)

    def forward(self, x):
        # x: (seq_len, batch, input_dim)
        output, _ = self.lstm(x)
        # output: (seq_len, batch, hidden*2)
        logits = self.fc(output)
        return logits  # pentru CTC loss
                            </div>
                            <div class="key-concept" style="margin-top: 15px;">
                                <strong>Record TIMIT:</strong> Deep RNN a adus phoneme error rate la 17.7% - cel mai mic din istorie la acel moment!
                            </div>
                        </div>
                    </div>
                </div>
                <div class="section-tab">
                    <div class="section-header" onclick="toggleSection(this)">
                        <div class="section-icon reference">ðŸ“š</div>
                        <span>Referinte: End-to-End ASR</span>
                        <span class="arrow">â–¶</span>
                    </div>
                    <div class="section-content">
                        <div class="section-body">
                            <ul class="reference-list">
                                <li class="reference-item"><span>ðŸ“„</span><div><strong>Graves et al. (2013)</strong> - Deep LSTM + CTC pentru TIMIT: 17.7% error</div></li>
                                <li class="reference-item"><span>ðŸ“„</span><div><strong>LeCun et al. (1998b); Graves et al. (2006)</strong> - CTC framework</div></li>
                                <li class="reference-item"><span>ðŸ“„</span><div><strong>Pascanu et al. (2014a); Chung et al. (2014)</strong> - Variante deep RNN</div></li>
                                <li class="reference-item"><span>ðŸ“„</span><div><strong>Chorowski et al. (2014); Lu et al. (2015)</strong> - Attention pentru alinierea acustic-fonetic</div></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</section>
