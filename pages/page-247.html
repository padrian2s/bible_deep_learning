<section class="page-section" id="page-247">
    <div class="page-header">
        <div class="page-number">247</div>
        <div class="page-title">
            <h3>7.1.1 Analiza Matematica L¬≤</h3>
            <span>Efectul Weight Decay asupra Solutiei</span>
        </div>
    </div>
    <div class="image-container">
        <img src="../book_page_jpg/page-247.jpg"
             alt="Pagina 247" class="page-image" onclick="zoomImage(this)">
    </div>
    <div class="explanation-content">

        <div class="interactive-paragraph">
            <div class="paragraph-main" onclick="toggleParagraph(this)">
                <h4>Aproximare Patratica a Functiei Obiectiv</h4>
                <p>Pentru a intelege efectul weight decay, facem o aproximare patratica a functiei obiectiv in jurul minimului w* (solutia fara regularizare). Daca H este matricea Hessian (derivatele de ordin 2):</p>
                <div class="formula" style="margin: 15px 0; padding: 15px; background: var(--bg-dark); border-radius: 8px; text-align: center;">
                    ƒ¥(Œ∏) = J(w*) + ¬Ω(w - w*)‚ä§H(w - w*)
                </div>
                <p>Minimul functiei regularizate ≈µ satisface:</p>
                <div class="formula" style="margin: 15px 0; padding: 15px; background: var(--bg-dark); border-radius: 8px; text-align: center;">
                    ≈µ = (H + Œ±I)‚Åª¬πHw*
                </div>
            </div>
            <div class="expandable-sections">
                <div class="section-tab">
                    <div class="section-header" onclick="toggleSection(this)">
                        <div class="section-icon simulation">üéÆ</div>
                        <span>Derivarea pas cu pas</span>
                        <span class="arrow">‚ñ∂</span>
                    </div>
                    <div class="section-content">
                        <div class="section-body">
                            <ol style="line-height: 2;">
                                <li><strong>Gradientul JÃÉ:</strong> ‚àá<sub>w</sub>ƒ¥(w) = H(w - w*)</li>
                                <li><strong>Adaugam regularizare:</strong> ‚àá<sub>w</sub>JÃÉ = Œ±w + H(w - w*)</li>
                                <li><strong>Setam = 0:</strong> Œ±≈µ + H(≈µ - w*) = 0</li>
                                <li><strong>Rearanjam:</strong> (H + Œ±I)≈µ = Hw*</li>
                                <li><strong>Rezolvam:</strong> ≈µ = (H + Œ±I)‚Åª¬πHw*</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="interactive-paragraph">
            <div class="paragraph-main" onclick="toggleParagraph(this)">
                <h4>Interpretarea prin Valori Proprii</h4>
                <p>Deoarece H este simetrica si pozitiv semidefinita, o putem descompune: H = QŒõQ‚ä§, unde Q contine vectorii proprii si Œõ valorile proprii. Solutia regularizata devine:</p>
                <div class="formula" style="margin: 15px 0; padding: 15px; background: var(--bg-dark); border-radius: 8px; text-align: center;">
                    ≈µ = Q(Œõ + Œ±I)‚Åª¬πŒõQ‚ä§w*
                </div>
                <p>Componenta w* de-a lungul vectorului propriu i este scalata cu factorul <strong>Œª·µ¢/(Œª·µ¢ + Œ±)</strong>.</p>
            </div>
            <div class="expandable-sections">
                <div class="section-tab">
                    <div class="section-header" onclick="toggleSection(this)">
                        <div class="section-icon animation">‚ú®</div>
                        <span>Ce inseamna asta intuitiv?</span>
                        <span class="arrow">‚ñ∂</span>
                    </div>
                    <div class="section-content">
                        <div class="section-body">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                                <div style="background: linear-gradient(90deg, rgba(16, 185, 129, 0.25) 0%, var(--bg-lighter) 20%); padding: 15px; border-radius: 8px; box-shadow: 0 0 15px rgba(16, 185, 129, 0.1);">
                                    <strong style="color: var(--success);">Œª·µ¢ >> Œ± (valoare proprie mare)</strong>
                                    <p style="margin-top: 10px; font-size: 0.9rem;">Factor ‚âà Œª·µ¢/Œª·µ¢ = 1</p>
                                    <p style="color: var(--text-secondary); font-size: 0.85rem;">Componenta ramane aproape neschimbata - directie importanta pentru cost</p>
                                </div>
                                <div style="background: linear-gradient(90deg, rgba(245, 158, 11, 0.25) 0%, var(--bg-lighter) 20%); padding: 15px; border-radius: 8px; box-shadow: 0 0 15px rgba(245, 158, 11, 0.1);">
                                    <strong style="color: var(--warning);">Œª·µ¢ << Œ± (valoare proprie mica)</strong>
                                    <p style="margin-top: 10px; font-size: 0.9rem;">Factor ‚âà Œª·µ¢/Œ± ‚âà 0</p>
                                    <p style="color: var(--text-secondary); font-size: 0.85rem;">Componenta este "stearsa" - directie neimportanta pentru cost</p>
                                </div>
                            </div>
                            <div class="key-concept" style="margin-top: 15px;">
                                <p><strong>Intuitie:</strong> Weight decay pastreaza directiile importante (curbura mare in cost) si elimina directiile neimportante (curbura mica - pot varia mult fara a afecta cost-ul).</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="section-tab">
                    <div class="section-header" onclick="toggleSection(this)">
                        <div class="section-icon simulation">üéÆ</div>
                        <span>Cod: Vizualizare Scalare</span>
                        <span class="arrow">‚ñ∂</span>
                    </div>
                    <div class="section-content">
                        <div class="section-body">
                            <div class="code-block">
import numpy as np

# Valori proprii ale Hessianului
eigenvalues = np.array([10, 1, 0.1, 0.01])
alpha = 0.5  # weight decay

# Factori de scalare
scaling_factors = eigenvalues / (eigenvalues + alpha)
# [0.952, 0.667, 0.167, 0.020]

# Interpretare:
# Œª=10:  pastreaza 95.2% din componenta
# Œª=1:   pastreaza 66.7% din componenta
# Œª=0.1: pastreaza 16.7% din componenta
# Œª=0.01: pastreaza doar 2% din componenta
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</section>
