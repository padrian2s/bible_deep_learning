<section class="page-section" id="page-248">
    <div class="page-header">
        <div class="page-number">248</div>
        <div class="page-title">
            <h3>7.1.1 Figura 7.1 - Vizualizare L¬≤</h3>
            <span>Efectul Geometric al Weight Decay</span>
        </div>
    </div>
    <div class="image-container">
        <img src="book_page_jpg/page-248.jpg"
             alt="Pagina 248" class="page-image" onclick="zoomImage(this)">
    </div>
    <div class="explanation-content">

        <div class="interactive-paragraph">
            <div class="paragraph-main" onclick="toggleParagraph(this)">
                <h4>Figura 7.1: Vizualizare Geometrica</h4>
                <p>Figura ilustreaza efectul regularizarii L¬≤ pe valoarea optima a weights-urilor. Elipsele solide reprezinta contururi de valoare egala ale obiectivului neregularizat. Cercurile punctate reprezinta contururi ale regularizatorului L¬≤. La punctul ≈µ, cele doua obiective ajung la echilibru.</p>
            </div>
            <div class="expandable-sections">
                <div class="section-tab">
                    <div class="section-header" onclick="toggleSection(this)">
                        <div class="section-icon animation">‚ú®</div>
                        <span>Explicatie Vizuala</span>
                        <span class="arrow">‚ñ∂</span>
                    </div>
                    <div class="section-content">
                        <div class="section-body">
                            <div style="background: var(--bg-lighter); padding: 20px; border-radius: 8px;">
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 15px;">
                                    <div style="text-align: center;">
                                        <div style="font-size: 3rem;">‚¨≠</div>
                                        <strong>Contururi Cost J</strong>
                                        <p style="font-size: 0.85rem; color: var(--text-secondary);">Elipse - curbura diferita pe axe</p>
                                    </div>
                                    <div style="text-align: center;">
                                        <div style="font-size: 3rem;">‚≠ï</div>
                                        <strong>Contururi L¬≤ Œ©</strong>
                                        <p style="font-size: 0.85rem; color: var(--text-secondary);">Cercuri centrate in origine</p>
                                    </div>
                                </div>
                                <div style="border-top: 1px solid var(--bg-dark); padding-top: 15px;">
                                    <p><strong>w*</strong> = minimul costului J (centrul elipselor)</p>
                                    <p><strong>≈µ</strong> = compromisul intre J si Œ© (solutia regularizata)</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="section-tab">
                    <div class="section-header" onclick="toggleSection(this)">
                        <div class="section-icon simulation">üéÆ</div>
                        <span>De ce w‚ÇÅ scade mai mult?</span>
                        <span class="arrow">‚ñ∂</span>
                    </div>
                    <div class="section-content">
                        <div class="section-body">
                            <div class="key-concept">
                                <p>In prima dimensiune (w‚ÇÅ), Hessianul lui J are valoare proprie mica - cost-ul nu se schimba mult cand w‚ÇÅ variaza. Regularizatorul "castiga" si trage w‚ÇÅ aproape de zero.</p>
                                <p style="margin-top: 10px;">In a doua dimensiune (w‚ÇÇ), Hessianul are valoare proprie mare - cost-ul creste rapid daca w‚ÇÇ se indeparteaza de w*‚ÇÇ. Cost-ul "castiga" si w‚ÇÇ ramane aproape de valoarea optima.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="interactive-paragraph">
            <div class="paragraph-main" onclick="toggleParagraph(this)">
                <h4>Conexiunea cu Regresia Liniara</h4>
                <p>Putem aplica aceeasi analiza pentru regresie liniara, unde functia cost este intr-adevar patratica. Pentru regresie liniara cu matrice de design X si cost MSE, matricea Hessian este H = X‚ä§X. Weight decay adauga Œ±I la aceasta matrice, facand problema mai stabila numeric.</p>
            </div>
            <div class="expandable-sections">
                <div class="section-tab">
                    <div class="section-header" onclick="toggleSection(this)">
                        <div class="section-icon reference">üìö</div>
                        <span>Ridge Regression</span>
                        <span class="arrow">‚ñ∂</span>
                    </div>
                    <div class="section-content">
                        <div class="section-body">
                            <div class="code-block">
# Regresie liniara standard (OLS)
# w* = (X'X)^{-1} X'y

# Ridge Regression (L2 regularized)
# ≈µ = (X'X + Œ±I)^{-1} X'y

import numpy as np
from sklearn.linear_model import Ridge

# Cu sklearn
ridge = Ridge(alpha=1.0)
ridge.fit(X, y)

# Manual
alpha = 1.0
XtX = X.T @ X
XtY = X.T @ y
w_ridge = np.linalg.solve(XtX + alpha * np.eye(XtX.shape[0]), XtY)
                            </div>
                            <p style="margin-top: 15px; color: var(--text-secondary);">Adaugarea lui Œ±I face matricea X‚ä§X + Œ±I mai bine conditionata (inversabila chiar daca X‚ä§X nu era).</p>
                        </div>
                    </div>
                </div>
                <div class="section-tab">
                    <div class="section-header" onclick="toggleSection(this)">
                        <div class="section-icon animation">‚ú®</div>
                        <span>Beneficii Numerice</span>
                        <span class="arrow">‚ñ∂</span>
                    </div>
                    <div class="section-content">
                        <div class="section-body">
                            <ul style="list-style: none; padding: 0;">
                                <li style="padding: 10px; background: var(--bg-lighter); margin-bottom: 10px; border-radius: 8px;">
                                    <strong style="color: var(--success);">‚úì Stabilitate Numerica</strong><br>
                                    <span style="color: var(--text-secondary);">Evita probleme cand X‚ä§X este aproape singulara</span>
                                </li>
                                <li style="padding: 10px; background: var(--bg-lighter); margin-bottom: 10px; border-radius: 8px;">
                                    <strong style="color: var(--success);">‚úì Multicoliniaritate</strong><br>
                                    <span style="color: var(--text-secondary);">Functioneaza bine chiar cand features sunt corelate</span>
                                </li>
                                <li style="padding: 10px; background: var(--bg-lighter); border-radius: 8px;">
                                    <strong style="color: var(--success);">‚úì Mai putine date</strong><br>
                                    <span style="color: var(--text-secondary);">Solutie stabila chiar cand n < p (mai putine exemple decat features)</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</section>
