<section class="page-section" id="page-159">
    <div class="page-header">
        <div class="page-number">159</div>
        <div class="page-title">
            <h3>Slabiciunile k-NN</h3>
            <span>Capitolul 5 - Sectiunea 5.7.3 (continuare)</span>
        </div>
    </div>
    <div class="image-container">
        <img src="../book_page_jpg/Ian Goodfellow, Yoshua Bengio, Aaron Courville - Deep Learning (2017, MIT)-page-159.jpg"
             alt="Pagina 159" class="page-image" onclick="zoomImage(this)">
    </div>
    <div class="explanation-content">
        <div class="interactive-paragraph">
            <div class="paragraph-main" onclick="toggleParagraph(this)">
                <h4>Problema High-Dimensional k-NN</h4>
                <p>Continuand exemplul cu x âˆˆ R<sup>100</sup> unde doar xâ‚ este relevanta: nearest neighbor regression nu va putea detecta acest pattern simplu. Nearest neighbor al majoritatii punctelor x va fi determinat de cele 99 de features irelevante (xâ‚‚ prin xâ‚â‚€â‚€), nu de singura feature relevanta xâ‚. Astfel, output-ul pe training sets mici va fi <strong>esential aleator</strong>!</p>
            </div>
            <div class="expandable-sections">
                <div class="section-tab">
                    <div class="section-header" onclick="toggleSection(this)">
                        <div class="section-icon animation">âœ¨</div>
                        <span>Vizualizare: Curse of Dimensionality</span>
                        <span class="arrow">â–¶</span>
                    </div>
                    <div class="section-content">
                        <div class="section-body">
                            <div class="key-concept">
                                <h5>Curse of Dimensionality in k-NN</h5>
                                <p>Cu input-uri high-dimensional, distanta Euclidiana este dominata de features irelevante:</p>
                                <div style="background: var(--bg-dark); padding: 15px; border-radius: 8px; margin-top: 15px; text-align: center;">
                                    <p>||x - x'||Â² = (xâ‚ - x'â‚)Â² + <span style="color: var(--warning);">Î£áµ¢â‚Œâ‚‚Â¹â°â° (xáµ¢ - x'áµ¢)Â²</span></p>
                                    <p style="font-size: 0.8rem; color: var(--text-secondary); margin-top: 10px;">â†‘ feature relevanta &nbsp;&nbsp;&nbsp; â†‘ 99 features irelevante (domina!)</p>
                                </div>
                                <p style="margin-top: 15px;">Solutia: folositi algoritmi care pot invata <strong>feature importance</strong> (decision trees, neural networks, etc.)</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="section-tab">
                    <div class="section-header" onclick="toggleSection(this)">
                        <div class="section-icon simulation">ğŸ®</div>
                        <span>Simulare: Feature Irrelevance</span>
                        <span class="arrow">â–¶</span>
                    </div>
                    <div class="section-content">
                        <div class="section-body">
                            <div class="code-block">
import numpy as np
from sklearn.neighbors import KNeighborsRegressor

np.random.seed(42)

# Doar x1 e relevanta, restul sunt noise
n_samples = 100
n_features = 100

X = np.random.randn(n_samples, n_features)
y = X[:, 0]  # y = x1 (doar prima feature conteaza!)

# k-NN regression
knn = KNeighborsRegressor(n_neighbors=5)
knn.fit(X, y)

# Test
X_test = np.random.randn(20, n_features)
y_test = X_test[:, 0]
y_pred = knn.predict(X_test)

# Eroarea va fi mare!
mse = np.mean((y_test - y_pred)**2)
print(f"MSE cu k-NN (100 dim): {mse:.3f}")

# Comparatie: doar cu feature relevanta
knn_1d = KNeighborsRegressor(n_neighbors=5)
knn_1d.fit(X[:, :1], y)
y_pred_1d = knn_1d.predict(X_test[:, :1])
mse_1d = np.mean((y_test - y_pred_1d)**2)
print(f"MSE cu k-NN (1 dim):   {mse_1d:.3f}")

print("\n=> k-NN nu poate ignora features irelevante!")
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
